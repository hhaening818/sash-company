<h2>회원가입</h2>

전화번호<br>
<input type="text" id="phone">
<button onclick="sendSMS()">인증요청</button>

<br><br>

인증번호<br>
<input type="text" id="code">
<button onclick="verifySMS()">인증완료</button>

<br><br>

<form method="POST" action="/register">

이름<br>
<input name="name"><br>

주민번호<br>
<input name="ssn"><br>

아이디<br>
<input name="username"><br>

비밀번호<br>
<input type="password" name="password"><br>

거주지역<br>
<input name="region"><br>

<button type="submit">
회원가입
</button>

</form>

<script>

function sendSMS(){

fetch("/send_sms",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
phone:document.getElementById("phone").value
})
})

}

function verifySMS(){

fetch("/verify_sms",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
phone:document.getElementById("phone").value,
code:document.getElementById("code").value
})
})
.then(r=>r.json())
.then(d=>{

if(d.status=="ok"){
alert("인증 성공")
}else{
alert("인증 실패")
}

})

}

</script>

