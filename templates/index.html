{% extends "base.html" %}

{% block title %}ê±´ì§„ì°½í˜¸ | ì°½í˜¸ ì „ë¬¸ ì‹œê³µ{% endblock %}

{% block extra_style %}
<link rel="preload" as="image"
      href="{{ url_for('static', filename='images/logo.png') }}">

<link rel="preload" as="image"
      href="{{ url_for('static', filename='images/logo-hero.png') }}">

<style>

:root{
    --main-green:#2f7d32;
}

html{
    scroll-behavior:smooth;
}

body{
    margin:0;
    font-family:'Noto Sans KR', sans-serif;
    background:#f0f2f5;
    color:#333;
    overflow-x:hidden;
}


/* =========================
   SECTION
========================= */

section{
    padding:28px 20px;
    text-align:center;
}


/* =========================
   CARD
========================= */

.card{
    background:white;
    padding:26px;
    margin:12px auto;
    width:70%;
    border-radius:15px;
    box-shadow:0 4px 12px rgba(0,0,0,0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover{
    transform: translateY(-3px);
    box-shadow:0 8px 20px rgba(0,0,0,0.12);
}


/* =========================
   INPUT
========================= */

input, textarea{
    width:80%;
    padding:10px;
    margin:10px 0;
    border-radius:5px;
    border:1px solid #ccc;
}

button{
    padding:10px 20px;
    background:var(--main-green);
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
}


/* =========================
   SLIDER
========================= */

.slider{
    position:relative;
    max-width:1000px;
    margin:auto;
    overflow:hidden;
}

.slides{
    display:flex;
    transition:transform 0.5s ease;
}

.slide{
    flex:0 0 calc(33.33% - 20px);
    margin:0 10px;
    opacity:0.7;
}

.slide img{
    width:100%;
    height:220px;
    object-fit:cover;
    border-radius:10px;
    cursor:pointer;
}

.prev,.next{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    background:rgba(0,0,0,0.5);
    color:white;
    border:none;
    font-size:28px;
    padding:10px;
    cursor:pointer;
    border-radius:50%;
}

.prev{ left:10px; }
.next{ right:10px; }


/* =========================
   ESTIMATE CARD
========================= */

.estimate-card{
    background:#eef2f1;
    padding:26px;
    margin:12px auto;
    width:70%;
    border-radius:15px;
    box-shadow:0 4px 12px rgba(0,0,0,0.08);
    transition:0.2s;
}

.estimate-card:hover{
    transform: translateY(-3px);
    box-shadow:0 8px 20px rgba(0,0,0,0.12);
}


/* =========================
   MODAL
========================= */

.modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
    z-index:9999;
}

.modal img{
    max-width:90%;
    max-height:90%;
}

.modal-box{
    background:white;
    padding:30px;
    border-radius:15px;
}


/* =========================
   SIGNUP MODAL
========================= */

.signup-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.35);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:9999;
}

.signup-container{
    width:460px;
    max-width:90%;
    background:white;
    border-radius:16px;
    padding:30px;
}

.signup-title{
    font-size:22px;
    font-weight:700;
    color:#2f7d32;
}

.signup-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.signup-close{
    font-size:22px;
    cursor:pointer;
}


/* =========================
   TERMS
========================= */

.agree-box{
    background:#f8fafc;
    border-radius:10px;
    padding:14px;
    margin-bottom:12px;
}

.terms-content{
    display:none;
    margin-top:10px;
    font-size:13px;
    max-height:220px;
    overflow:auto;
}

.next-btn{
    width:100%;
    padding:12px;
    background:#2f7d32;
    color:white;
    border:none;
    border-radius:8px;
}


/* =========================
   MOBILE
========================= */

@media(max-width:768px){

    .card,
    .estimate-card{
        width:90%;
    }

    .slide{
        flex:0 0 90%;
    }

}

</style>

{% endblock %}

{% block hero %}
<section class="hero">
    <div class="hero-inner">

        <img src="{{ url_for('static', filename='images/logo-hero.png') }}"
             class="hero-logo">

    </div>
</section>
{% endblock %}

{% block content %}

<section id="about">

<div class="card">

<h2>íšŒì‚¬ì†Œê°œ</h2>

<p>

30ë…„ ê²½ë ¥ì˜ ì „ë¬¸ê°€ê°€ ì§ì ‘ ì‹œê³µí•©ë‹ˆë‹¤.<br>
ìµœê³ ì˜ ë‹¨ì—´, ë°©ìŒ, ë‚´êµ¬ì„± ë³´ì¥

</p>

</div>

</section>



<section id="service">

<div class="card">

<h2>ì‹œê³µ ë¶„ì•¼</h2>

<p>

âœ” ì•„íŒŒíŠ¸ ìƒ·ì‹œ êµì²´<br>
âœ” ë‹¨ë…ì£¼íƒ ì°½í˜¸<br>
âœ” ìƒê°€ ìœ ë¦¬ ì‹œê³µ<br>
âœ” ë² ë€ë‹¤ í™•ì¥

</p>

</div>

</section>



<section id="portfolio">

<div class="card">

<h2>ğŸ›  ì‹œê³µ ì‚¬ë¡€</h2>

<a href="/portfolio">

<button>

ì „ì²´ ì‹œê³µ ì‚¬ë¡€ ë³´ê¸° â†’

</button>

</a>


<div class="slider">

<button class="prev">&#10094;</button>

<div class="slides" id="slides">

{% for img in images %}
<div class="slide">
<img src="{{ img }}" loading="lazy">
</div>
{% endfor %}

{% for img in images %}
<div class="slide clone">
<img src="{{ img }}" loading="lazy">
</div>
{% endfor %}

</div>

<button class="next">&#10095;</button>

</div>

</div>

</section>



<section>

<div class="estimate-card" id="contact">

<h2>ë¬´ë£Œ ê²¬ì  ìš”ì²­</h2>

<p>

ë¬´ë£Œ ê²¬ì  ìƒë‹´ì„ ë°›ì•„ë³´ì„¸ìš”<br>
ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤

</p>


<form id="contactForm" enctype="multipart/form-data">

<input type="text" name="name" placeholder="ì´ë¦„" required>

<input type="text" name="phone" placeholder="ì—°ë½ì²˜" required>

<textarea name="message" placeholder="ë¬¸ì˜ ë‚´ìš©"></textarea>

<input type="file" name="image">

<button type="submit">

ê²¬ì  ìš”ì²­í•˜ê¸°

</button>

</form>

</div>

</section>



<!-- ì „í™” ë²„íŠ¼ -->

<a href="tel:01071372313"

style="

position:fixed;
bottom:20px;
right:20px;
background:#22c55e;
color:white;
padding:15px 20px;
border-radius:50px;
text-decoration:none;
box-shadow:0 4px 10px rgba(0,0,0,0.3);

">

ğŸ“ ë°”ë¡œ ì „í™”

</a>



<!-- ëª¨ë‹¬ -->

<div id="successModal" class="modal">

<div class="modal-box">

<h3>ë¬¸ì˜ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤</h3>

<button onclick="closeModal()">í™•ì¸</button>

</div>

</div>



<div class="modal" id="imageModal">

<img id="modalImage">

</div>

{% endblock %}

{% block extra_script %}

<script>

document.addEventListener("DOMContentLoaded", function(){

// ìŠ¬ë¼ì´ë“œ

const slidesContainer=document.getElementById("slides");

if(slidesContainer){

let index=0;

const slides=document.querySelectorAll(".slide");

function updateSlides(){

const width=slides[0].offsetWidth+20;

slidesContainer.style.transform=
`translateX(-${index*width}px)`;

}

document.querySelector(".next").onclick=()=>{
index++;
if(index>=slides.length-3) index=0;
updateSlides();
};

document.querySelector(".prev").onclick=()=>{
index--;
if(index<0) index=slides.length-3;
updateSlides();
};

setInterval(()=>{
index++;
if(index>=slides.length-3) index=0;
updateSlides();
},4000);

}


// ë¬¸ì˜ ë“±ë¡

const contactForm=document.getElementById("contactForm");

if(contactForm){

contactForm.addEventListener("submit",function(e){

e.preventDefault();

const formData=new FormData(this);

fetch("/contact",{

method:"POST",
body:formData

})
.then(()=>{

document.getElementById("successModal")
.style.display="flex";

this.reset();

});

});

}

});


function closeModal(){

document.getElementById("successModal")
.style.display="none";

}

</script>

{% endblock %}